# Configuración Básica equipos CISCO `Modulo 2`  

## Nombres de los Dispositivos  

### Cambiar Nombre de Host:  

```plaintext  
Switch# configure terminal  
Switch(config)# hostname Nombre_Dispositivo  
```  

### Para Volver al Nombre Predeterminado:  

```plaintext  
Switch(config)# no hostname  
```  

### Importante:  
- El nombre debe empezar/terminar en letra o número.  
- No debe tener espacios, solo letras, números o guiones.  
- Máximo 63 caracteres.  

## Pautas de Contraseñas  
- Contraseñas largas (>8 caracteres), mezcla de mayúsculas, minúsculas, números y símbolos.  
- No usar contraseñas comunes o iguales en todos los dispositivos.  

## Configuración de Contraseñas  

### Proteger Acceso de Consola:  

```plaintext  
Switch# configure terminal  
Switch(config)# line console 0  
Switch(config-line)# password cisco  
Switch(config-line)# login  
Switch(config-line)# end  
```  

### Proteger Acceso Privilegiado (enable):  

```plaintext  
Switch# configure terminal  
Switch(config)# enable secret class  
Switch(config)# exit  
```  

### Proteger Acceso Remoto (VTY):  

```plaintext  
Switch# configure terminal  
Switch(config)# line vty 0 15  
Switch(config-line)# password cisco  
Switch(config-line)# login  
Switch(config-line)# end  
```  

## Ejersicios:

### Entrar al Modo de Configuración Global:

```plaintext
Switch# configure terminal
```
Permite cambiar configuraciones del dispositivo.

### Asignar Nombre al Switch:

```plaintext
Switch(config)# hostname Sw-Floor-1
```
Cambia el nombre por uno único y descriptivo.

### Proteger el Acceso por Consola (Modo EXEC de Usuario):

```plaintext
Sw-Floor-1(config)# line console 0
Sw-Floor-1(config-line)# password cisco
Sw-Floor-1(config-line)# login
Sw-Floor-1(config-line)# exit
```
Pide contraseña al conectar físicamente vía consola.

### Proteger el Modo EXEC Privilegiado (Administrador):

```plaintext
Sw-Floor-1(config)# enable secret class
```
Establece una contraseña encriptada para acceder a todos los comandos del switch.

### Proteger el Acceso Remoto (Líneas VTY 0-15, para Telnet/SSH):

```plaintext
Sw-Floor-1(config)# line vty 0 15
Sw-Floor-1(config-line)# password cisco
Sw-Floor-1(config-line)# login
Sw-Floor-1(config-line)# exit
```
Requiere contraseña para conexiones remotas.

### Encriptar Todas las Contraseñas Visibles en Texto Claro:

```plaintext
Sw-Floor-1(config)# service password-encryption
```
Protege las contraseñas aplicando una encriptación básica.

### Crear un Mensaje de Advertencia (Banner):

```plaintext
Sw-Floor-1(config)# banner motd #Warning! Authorized access only!#
```
Muestra un mensaje legal antes de permitir el acceso al dispositivo.

## Ejersicio Paket Tracer:

## Parte 1: Verificar la Configuración Predeterminada del Switch

### Paso 1: Entrar en Modo EXEC Privilegiado

**Comando:**  
```plaintext
enable
```

**Función:**  
Permite acceso a todos los comandos administrativos del switch. Se debe proteger con contraseña.

**Cambio Visible:**  
El prompt cambia de `Switch>` a `Switch#`.

### Paso 2: Examinar Configuración Actual

**Comando:**  
```plaintext
show running-config
```

**Muestra:**  
Configuración activa en RAM.

**Respuestas:**  
- **FastEthernet interfaces:** Normalmente 24 (depende del modelo).  
- **GigabitEthernet interfaces:** Normalmente 2 (uplink).  
- **Rango VTY:** 0 15 (16 sesiones de acceso remoto por Telnet/SSH).  

**Comando para Ver NVRAM:**  
```plaintext
show startup-config
```

**¿Por qué "startup-config no está presente"?:**  
Porque no se ha guardado ninguna configuración aún en la NVRAM.

---

## Parte 2: Crear Configuración Básica

### Paso 1: Asignar Nombre al Switch

**Comando:**  
```plaintext
hostname S1
```

**Función:**  
Cambia el nombre del dispositivo para identificarlo en la red.

### Paso 2: Acceso Seguro a la Línea de Consola

**Comandos:**  
```plaintext
line console 0
password letmein
login
```

**Función:**  
- `line console 0`: Entra a configurar la consola física.  
- `password letmein`: Asigna contraseña a la consola.  
- `login`: Obliga a pedir contraseña al acceder por consola.

**Pregunta:**  
**¿Por qué es necesario el comando `login`?**  
Porque sin `login`, aunque pongas una contraseña, no se pedirá cuando alguien conecte al switch.

### Paso 3 y 4: Asegurar Acceso a Modo Privilegiado

**Comandos:**  
```plaintext
enable password c1$c0
enable secret itsasecret
```

**Diferencia:**  
- `enable password`: Texto plano, poco seguro.  
- `enable secret`: Encriptado automáticamente, mucho más seguro.

**¿Cuál se recomienda usar?:**  
Siempre `enable secret`, sobreescribe a `enable password` si ambos existen.

### Paso 5: Verificación

Salir (`exit`) y comprobar que pide contraseñas.

**Nota:**  
La contraseña de consola se usa primero, luego la de modo privilegiado.

### Paso 6: Cifrar Contraseñas

**Comando:**  
```plaintext
service password-encryption
```

**Función:**  
Encripta todas las contraseñas en texto plano en el archivo de configuración.

**Pregunta:**  
**¿Después de este comando las nuevas contraseñas estarán cifradas?**  
Sí, toda contraseña que configures a partir de ahora se encriptará automáticamente.

---

## Parte 3: Configurar un Banner MOTD

### Paso 1: Configurar Mensaje del Día

**Comando:**  
```plaintext
banner motd "This is a secure system. Authorized Access Only!"
```

**Función:**  
Muestra un mensaje legal/de advertencia antes de que el usuario inicie sesión.

**¿Cuándo se muestra?:**  
Cuando alguien se conecta al switch antes de poner usuario/contraseña.

**¿Por qué es importante?:**  
Sirve como advertencia legal para que los intrusos no aleguen ignorancia.

---

## Parte 4: Guardar y Verificar Configuración

### Paso 1: Guardar Configuración en NVRAM

**Comando:**  
```plaintext
copy running-config startup-config
```

**Función:**  
Guarda cambios en NVRAM para que no se pierdan al reiniciar.

**Preguntas:**  
- **Versión abreviada:** `copy run start`  
- **¿Qué comando muestra NVRAM?:** `show startup-config`  
- **¿Se registran los cambios?:** Sí, una vez guardado, quedan almacenados permanentemente.

---

## Resumen de Diferencias de Contraseñas

| Tipo de Contraseña                  | ¿Encriptada?                          | Nivel de Seguridad | Uso                                   |
|-------------------------------------|---------------------------------------|--------------------|---------------------------------------|
| password (console/vty/enable password) | No (hasta `service password-encryption`) | Baja               | Aceptable si se cifra luego           |
| enable secret                       | Sí (automático)                       | Alta               | Recomendado siempre                   |

## Configuración de Interfaz Virtual de Switch

Para acceder al switch de manera remota, se deben configurar una dirección IP y una máscara de subred en la SVI. La SVI (Switch Virtual Interface) no es una interfaz física real, sino una virtual. A continuación, se describen los pasos para configurar una SVI en un switch:

1. **Entrar al Modo de Configuración Global:**

    ```plaintext
    Sw-Floor-1# configure terminal
    ```
2. **Configurar la Interfaz VLAN 1:**

    ```plaintext
    Sw-Floor-1(config)# interface vlan 1
    ```
3. **Asignar Dirección IPv4 y Máscara de Subred:**

    ```plaintext
    Sw-Floor-1(config-if)# ip address 192.168.1.20 255.255.255.0
    ```
4. **Habilitar la Interfaz Virtual:**

    ```plaintext
    Sw-Floor-1(config-if)# no shutdown
    ```
5. **Salir de la Configuración de la Interfaz:**

    ```plaintext
    Sw-Floor-1(config-if)# exit
    ```
6. **Configurar la Puerta de Enlace Predeterminada:**

    ```plaintext
    Sw-Floor-1(config)# ip default-gateway 192.168.1.1
    ```

### Verificador de Sintaxis - Configuración de una Interfaz Virtual de Switch

1. **Entrar al Modo de Configuración de la Interfaz VLAN 1:**

    ```plaintext
    Switch(config)# interface vlan 1
    ```

2. **Configurar la Dirección IPv4 y Máscara de Subred:**

    ```plaintext
    Switch(config-if)# ip address 192.168.1.20 255.255.255.0
    ```

3. **Habilitar la Interfaz:**

    ```plaintext
    Switch(config-if)# no shutdown
    ```

    **Mensaje del Sistema:**
    
    ```plaintext
    %LINK-5-CHANGED: Interface Vlan1, changed state to up
    ```

### Resultado

Con estos pasos, se ha configurado correctamente la interfaz virtual del switch para la VLAN 1, permitiendo la comunicación IPv4 a través de la red.

## Direcciones IP e Interfaces

### Direcciones IP
- **Importancia:** Las direcciones IP permiten que los dispositivos se ubiquen entre sí y establezcan comunicación en la red.
- **Dispositivos comunes con IP:** PC, impresoras de red, teléfonos VoIP, cámaras de seguridad, dispositivos móviles, etc.
- **IPv4:**
    - Notación decimal punteada (ejemplo: `192.168.1.10`).
    - Requiere una máscara de subred (ejemplo: `255.255.255.0`) para separar la porción de red y host.
    - Gateway predeterminado: Dirección IP del router para acceder a redes remotas.
- **IPv6:**
    - Longitud de 128 bits, representada en valores hexadecimales separados por `:`.
    - No distingue entre mayúsculas y minúsculas.

### Interfaces y Puertos
- **Interfaces físicas:** Conectan dispositivos mediante cables (par trenzado, fibra óptica, coaxial) o tecnología inalámbrica.
- **Factores a considerar en los medios de red:**
    - Distancia de transmisión.
    - Ambiente de instalación.
    - Velocidad y cantidad de datos.
    - Costo de medios e instalación.
- **Switches de capa 2:**
    - Tienen puertos físicos para conectar dispositivos.
    - Usan interfaces virtuales de switch (SVI) para administración remota.
    - La SVI predeterminada es la interfaz VLAN1.

### Nota
- Los switches de capa 2 no necesitan una dirección IP para operar, pero la SVI permite su administración remota.
